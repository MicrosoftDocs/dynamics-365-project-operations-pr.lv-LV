---
title: Projekta aprēķinu un faktisko datu integrācija
description: Šajā tēmā ir sniegta informācija par Project Operations duālās rakstīšanas integrāciju projektu aprēķinos un faktiskajos datos.
author: sigitac
manager: Annbe
ms.date: 4/26/2021
ms.topic: article
ms.prod: ''
ms.service: project-operations
ms.reviewer: kfend
ms.author: sigitac
ms.openlocfilehash: 88df3385fac0a78a827d65a77d3b04c9d6499536
ms.sourcegitcommit: 02f00960198cc78a5e96955a9e4390c2c6393bbf
ms.translationtype: HT
ms.contentlocale: lv-LV
ms.lasthandoff: 04/28/2021
ms.locfileid: "5955792"
---
# <a name="project-estimates-and-actuals-integration"></a><span data-ttu-id="6fbc8-103">Projekta aprēķinu un faktisko datu integrācija</span><span class="sxs-lookup"><span data-stu-id="6fbc8-103">Project estimates and actuals integration</span></span>

<span data-ttu-id="6fbc8-104">_**Attiecas uz:** Project Operations scenārijiem, kas nav balstīti uz resursiem/krājumiem_</span><span class="sxs-lookup"><span data-stu-id="6fbc8-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios_</span></span>

<span data-ttu-id="6fbc8-105">Šajā tēmā ir sniegta informācija par Project Operations duālās rakstīšanas integrāciju projektu aprēķinos un faktiskajos datos.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-105">This topic provides information about Project Operations dual-write integration for project estimates and actuals.</span></span>

## <a name="project-estimates"></a><span data-ttu-id="6fbc8-106">Projekta aprēķins</span><span class="sxs-lookup"><span data-stu-id="6fbc8-106">Project estimates</span></span>

<span data-ttu-id="6fbc8-107">Projekta darba, izmaksu un materiālu aprēķini tiek izveidoti un uzturēti programmā Microsoft Dataverse un sinhronizēti ar Finance and Operations programmām grāmatvedības nolūkos.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-107">Project labor, expense, and material estimates are created and maintained in Microsoft Dataverse and synchronized to Finance and Operations apps for accounting purposes.</span></span> <span data-ttu-id="6fbc8-108">Izmantojot Finance and Operations programmas, netiek atbalstītas izveides, atjaunināšanas un dzēšanas darbības.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-108">Create, update, and delete operations aren't supported through the Finance and Operations apps.</span></span>

<span data-ttu-id="6fbc8-109">Lai izveidotu aprēķinus, projektam ir nepieciešama derīga grāmatvedības konfigurācija.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-109">Creating estimates requires a valid accounting configuration for the project.</span></span> <span data-ttu-id="6fbc8-110">Ar līguma rindām saistītajiem projektiem ir jābūt derīgam projekta izmaksu un ieņēmumu profilam, kas definēts projekta izmaksu un ieņēmumu profila kārtulās.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-110">Projects that are associated with contract lines must have a valid project cost and revenue profile defined in the Project cost and revenue profile rules.</span></span> <span data-ttu-id="6fbc8-111">Papildinformāciju skatiet rakstā [Apmaksājamo projektu uzskaites konfigurēšana](../project-accounting/configure-accounting-billable-projects.md#configure-project-cost-and-revenue-profile-rules).</span><span class="sxs-lookup"><span data-stu-id="6fbc8-111">For more information, see [Configure accounting for billable projects](../project-accounting/configure-accounting-billable-projects.md#configure-project-cost-and-revenue-profile-rules).</span></span>

## <a name="labor-estimates"></a><span data-ttu-id="6fbc8-112">Darba aprēķini</span><span class="sxs-lookup"><span data-stu-id="6fbc8-112">Labor estimates</span></span>

<span data-ttu-id="6fbc8-113">Darba aprēķinus izveido projekta vadītājs vai resursu vadītājs, kurš projekta uzdevumam piešķir arī vispārēju vai nosauktu resursu.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-113">Labor estimates are created by the Project Manager or Resource manager who also assigns a generic or named resource to the project task.</span></span> <span data-ttu-id="6fbc8-114">Resursu piešķiršanas ierakstus var pārskatīt cilnē **Resursu norīkojumi** Dataverse lapā **Detalizēta informācija par projektu**.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-114">Resource assignment records can be reviewed on the **Resource Assignments** tab on the **Project Details** page in Dataverse.</span></span> <span data-ttu-id="6fbc8-115">Dataverse resursu piešķiršanas ieraksti izveido stundu prognožu ierakstus Finance and Operations programmās, izmantojot **Project Operations integrācijas entītija stundu aprēķiniem (msdyn\_resourceassignments)**.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-115">Resource assignment records in Dataverse create hour forecast records in Finance and Operations apps using **Project Operations integration entity for hour estimates (msdyn\_resourceassignments)**.</span></span>

   ![Darba aprēķinu integrācija](./Media/DW4LaborEstimates.png)

<span data-ttu-id="6fbc8-117">Duālā rakstīšana sinhronizē resursu piešķiršanas ierakstus ar izstādīšanas tabulu (**ProjCDSEstimateHoursImport**) un pēc tam izmanto biznesa loģiku, lai izveidotu un atjauninātu stundu prognožu ierakstus (**ProjForecastEmpl**).</span><span class="sxs-lookup"><span data-stu-id="6fbc8-117">Dual-write synchronizes resource assignment records to the staging table (**ProjCDSEstimateHoursImport**), and then uses business logic to create and update hour forecast records (**ProjForecastEmpl**).</span></span>

<span data-ttu-id="6fbc8-118">Projekta grāmatvedis pārskata stundu prognožu ierakstus, kas izveidoti Finance and Operations programmās, pārejot uz **Projekta pārvaldība un uzskaite** > **Visi projekti** > **Plāns** > **Stundu prognozes**.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-118">The Project accountant reviews forecast hour records created in Finance and Operations apps by going to **Project management and accounting** > **All projects** > **Plan** > **Hour forecasts**.</span></span>

## <a name="expense-estimates"></a><span data-ttu-id="6fbc8-119">Izdevumu tāmes</span><span class="sxs-lookup"><span data-stu-id="6fbc8-119">Expense estimates</span></span>

<span data-ttu-id="6fbc8-120">Izmaksu aprēķinus izveido projekta vadītājs cilnē **Izdevumu aprēķini** Dataverse lapā **Detalizēta informācija par projektu**.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-120">Expense estimates are created by the Project manager on the **Expense Estimates** tab on the **Project Details** page in Dataverse.</span></span> <span data-ttu-id="6fbc8-121">Izmaksu aprēķinu ieraksti tiek glabāti Dataverse entītijā **Novērtēšanas rinda**.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-121">Expense estimate records are stored in the **Estimate Line** entity in Dataverse.</span></span> <span data-ttu-id="6fbc8-122">Šiem novērtēšanas ierakstiem ir transakciju klase **Izdevumi**, un tie tiek sinhronizēti ar izdevumu prognožu ierakstiem Finance and Operations programmās, izmantojot **Project Operations integrācijas entītija izdevumu aprēķiniem (msdyn\_estimatelines)**.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-122">These estimate records have transaction class, **Expense** and are synchronized to expense forecast records in Finance and Operations apps using **Project Operations integration entity for expense estimates (msdyn\_estimatelines)**.</span></span>

   ![Izdevumu aprēķinu integrācija](./Media/DW4ExpenseEstimates.png)

<span data-ttu-id="6fbc8-124">Duālā rakstīšana sinhronizē izdevumu aprēķinu ierakstus ar izstādīšanas tabulu (**ProjCDSEstimateExpenseImport**) un pēc tam izmanto biznesa loģiku, lai izveidotu un atjauninātu izdevumu prognožu ierakstus (**ProjForecastCost**).</span><span class="sxs-lookup"><span data-stu-id="6fbc8-124">Dual-write synchronizes expense estimate records to the staging table, **ProjCDSEstimateExpenseImport)** and then uses business logic to create and update expense forecast records (**ProjForecastCost**).</span></span> <span data-ttu-id="6fbc8-125">Aprēķinu rindās pārdošanas aprēķinu un izmaksu aprēķinu ieraksti tiek glabāti atsevišķi.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-125">Estimate lines store sales estimate and cost estimate records separately.</span></span> <span data-ttu-id="6fbc8-126">Biznesa loģika Finance and Operations programmās aizpilda vienu izdevumu prognožu ierakstu, izmantojot šo informāciju izstādīšanas tabulā.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-126">The business logic in Finance and Operations apps populates a single Expense forecast record using this detail in the staging table.</span></span>

<span data-ttu-id="6fbc8-127">Projekta grāmatvedis var pārskatīt izdevumu prognožu ierakstus, kas izveidoti Finance and Operations programmās, pārejot uz **Projekta pārvaldība un uzskaite** > **Visi projekti** > **Plāns** > **Izdevumu prognozes**.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-127">The Project accountant can review expense forecast records in Finance and Operations apps by going to **Project management and accounting** > **All projects** > **Plan** > **Expense forecasts**.</span></span>

## <a name="material-estimates"></a><span data-ttu-id="6fbc8-128">Materiālu aprēķini</span><span class="sxs-lookup"><span data-stu-id="6fbc8-128">Material estimates</span></span>

<span data-ttu-id="6fbc8-129">Materiālu aprēķinus izveido projekta vadītājs cilnē **Materiālu aprēķini** Dataverse lapā **Detalizēta informācija par projektu**.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-129">Material estimates are created by the Project manager on the **Material Estimates** tab on the **Project Details** page in Dataverse.</span></span> <span data-ttu-id="6fbc8-130">Materiālu aprēķinu ieraksti tiek glabāti Dataverse entītijā **Novērtēšanas rinda**.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-130">Material estimate records are stored in the **Estimate Line** entity in Dataverse.</span></span> <span data-ttu-id="6fbc8-131">Šiem novērtēšanas ierakstiem ir transakciju klase **Materiāli**, un tie tiek sinhronizēti ar vienumu prognožu ierakstiem Finance and Operations programmās, izmantojot **Projektu integrācijas tabula materiālu aprēķiniem (msdyn\_estimatelines)**.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-131">These estimate records have the transaction class, **Material** and are synchronized to item forecast records in Finance and Operations apps using **Project integration table for material estimates (msdyn\_estimatelines)**.</span></span>

   ![Materiālu aprēķinu integrācija](./Media/DW4MaterialEstimates.png)

<span data-ttu-id="6fbc8-133">Duālā rakstīšana sinhronizē materiālu aprēķinu ierakstus ar izstādīšanas tabulu **ProjForecastSalesImpor** un pēc tam izmanto biznesa loģiku, lai izveidotu un atjauninātu vienumu prognožu ierakstus (**ForecastSales**).</span><span class="sxs-lookup"><span data-stu-id="6fbc8-133">Dual-write synchronizes material estimate records to the staging table **ProjForecastSalesImpor**, and then uses business logic to create and update item forecast records (**ForecastSales**).</span></span> <span data-ttu-id="6fbc8-134">Aprēķinu rindās pārdošanas aprēķinu un izmaksu aprēķinu ieraksti tiek glabāti atsevišķi.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-134">Estimate lines store sales estimate and cost estimate records separately.</span></span> <span data-ttu-id="6fbc8-135">Biznesa loģika Finance and Operations programmās aizpilda vienu vienumu prognožu ierakstu, izmantojot šo informāciju izstādīšanas tabulā.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-135">The business logic in Finance and Operations apps populates a single Item forecast record using this detail in the staging table.</span></span>

<span data-ttu-id="6fbc8-136">Projekta grāmatvedis var pārskatīt vienumu prognožu ierakstus, kas izveidoti Finance and Operations programmās, pārejot uz **Projekta pārvaldība un uzskaite** > **Visi projekti** > **Plāns** > **Vienumu prognozes**.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-136">The Project accountant can review item forecast records in Finance and Operations apps by going to **Project management and accounting** > **All projects** > **Plan** > **Item forecasts**.</span></span>

## <a name="project-actuals"></a><span data-ttu-id="6fbc8-137">Projekta faktiskie dati</span><span class="sxs-lookup"><span data-stu-id="6fbc8-137">Project actuals</span></span>

<span data-ttu-id="6fbc8-138">Projekta faktiskie dati tiek izveidoti risinājumā Dataverse, pamatojoties uz laiku, izdevumiem, materiāliem un norēķinu darbībām.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-138">Project actuals are created in Dataverse, based on time, expense, material, and billing activity.</span></span> <span data-ttu-id="6fbc8-139">Šajā Dataverse entītijā ir tverti visi šo transakciju darbības atribūti, tostarp daudzums, izmaksas, pārdošanas cena un projekts.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-139">All operational attributes of these transactions including quantity, cost price, sales price, and project are captured in this Dataverse entity.</span></span> <span data-ttu-id="6fbc8-140">Papildinformāciju skatiet sadaļā [Faktiskie dati](../actuals/actuals-overview.md).</span><span class="sxs-lookup"><span data-stu-id="6fbc8-140">For more information, see [Actuals](../actuals/actuals-overview.md).</span></span> <span data-ttu-id="6fbc8-141">Faktiskie ieraksti tiek sinhronizēti ar Finance and Operations programmām, izmantojot duālās rakstīšanas tabulas karti **Project Operations integrācijas faktiskie dati (msdyn\_actuals)** lejupstraumes grāmatvedībai.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-141">Actual records are synchronized to Finance and Operations apps using the dual-write table map **Project Operations integration actuals (msdyn\_actuals)** for downstream accounting.</span></span>

   ![Faktisko datu integrācija](./Media/DW4Actuals.png)

<span data-ttu-id="6fbc8-143">Tabulas karte **Project Operations integrācijas faktiskie dati** sinhronizē visus ierakstus no entītijas **Faktiski dati** programmā Dataverse, kamēr atribūts **Izlaist sinhronizāciju (tikai iekšējai lietošanai)** ir iestatīts uz **Aplams**.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-143">The **Project Operations integration actuals** table map synchronizes all the records from the **Actuals** entity in Dataverse, with the attribute **Skip Sync (internal use only)** set to **False**.</span></span> <span data-ttu-id="6fbc8-144">Šī atribūta vērtība tiek iestatīta risinājumā Dataverse automātiski ieraksta izveides laikā.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-144">This attribute value is set in Dataverse automatically when the record is created.</span></span> <span data-ttu-id="6fbc8-145">Piemēri, kuros šim atribūtam ir iestatīta vērtība **Patiess**:</span><span class="sxs-lookup"><span data-stu-id="6fbc8-145">Examples where this attribute is set to **True** are:</span></span>

  - <span data-ttu-id="6fbc8-146">Projekta izmaksu faktiskās vērtības starpuzņēmumu transakcijām.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-146">Project cost actuals for intercompany transactions.</span></span> <span data-ttu-id="6fbc8-147">Papildinformāciju skatiet sadaļā [Starpuzņēmumu transakciju izveide](../project-accounting/create-intercompany-transactions.md).</span><span class="sxs-lookup"><span data-stu-id="6fbc8-147">For more information, see [Create intercompany transactions](../project-accounting/create-intercompany-transactions.md).</span></span> <span data-ttu-id="6fbc8-148">Šie ieraksti tiek izlaisti, jo sistēma atkārtoti izveido projekta izmaksu faktiskos datus Finance and Operations programmās, kad tiek grāmatots starpuzņēmumu piegādātāja rēķins.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-148">These records are skipped because the system recreates the project cost actual in Finance and Operations apps when the intercompany vendor invoice is posted.</span></span>
  - <span data-ttu-id="6fbc8-149">Negatīvie rēķinā neiekļautie pārdošanas ieraksti tiek izveidoti, kad tiek apstiprināts pro formas rēķins.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-149">Negative unbilled sales records created when the proforma invoice is confirmed.</span></span> <span data-ttu-id="6fbc8-150">Šie ieraksti tiek izlaisti, jo projekta apakšgrāmata Finance and Operations lietojumprogrammās nemaina rēķinā neietverto pārdošanas ierakstu rēķina izrakstīšanas laikā, bet maina statusu uz pilnībā izrakstītu rēķinu.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-150">These records are skipped because the project subledger in Finance and Operations apps doesn't reverse the unbilled sales record at invoicing but changes the status to fully invoiced.</span></span>

<span data-ttu-id="6fbc8-151">Duālās rakstīšanas tabulas karte sinhronizē faktisko datu ierakstus ar izstādīšanas tabulu **ProjCDSActualsImport**.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-151">The dual-write table map synchronizes the actuals records to the staging table, **ProjCDSActualsImport**.</span></span> <span data-ttu-id="6fbc8-152">Šos ierakstus apstrādā periodiskais process **Importēt no izstādīšanas tabulas**, veidojot Project Operations integrācijas žurnāla rindas un projektu rēķinu priekšlikumu rindas.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-152">These records are processed by the periodic process **Import from staging table** when creating Project Operations integration journal lines and project invoice proposal lines.</span></span> <span data-ttu-id="6fbc8-153">Papildinformāciju skatiet sadaļā [Project Operations integrācijas žurnāls](../project-accounting/project-operations-integration-journal.md).</span><span class="sxs-lookup"><span data-stu-id="6fbc8-153">For more information, see [Integration journal in Project Operations](../project-accounting/project-operations-integration-journal.md).</span></span>

<span data-ttu-id="6fbc8-154">Turklāt Dataverse tver saites starp projektu faktisko datu transakcijām entītijā **Transakcijas savienojums**.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-154">Dataverse also captures the links between the project actual transactions in the **Transaction connection** entity.</span></span> <span data-ttu-id="6fbc8-155">Papildinformāciju skatiet sadaļā [Faktisko datu saistīšana ar sākotnējiem ierakstiem](../actuals/linkingactuals.md).</span><span class="sxs-lookup"><span data-stu-id="6fbc8-155">For more information, see [Link actuals to original records](../actuals/linkingactuals.md).</span></span> <span data-ttu-id="6fbc8-156">Saites starp faktiskajām transakcijām tiek sinhronizētas arī ar Finance and Operations programmām, izmantojot duālās rakstīšanas tabulas karti **Integrācijas entītija projektu transakciju relācijām (msdyn\_transactionconnections)**.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-156">Links between actual transactions are also synchronized to Finance and Operations apps using the dual-write table map, **Integration entity for project transaction relationships (msdyn\_transactionconnections)**.</span></span> <span data-ttu-id="6fbc8-157">Šos ierakstus izmanto periodiskais process **Importēt no izstādīšanas tabulas**, veidojot Project Operations integrācijas žurnāla rindas un projektu rēķinu priekšlikumu rindas.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-157">These records are used by the periodic process, **Import from staging table** when creating Project Operations integration journal lines and Project invoice proposal lines.</span></span>

<span data-ttu-id="6fbc8-158">Project Operations integrācijas žurnāla un projekta rēķina priekšlikuma grāmatošanas aktivizē atjauninājumu atbilstošajos ierakstos izstādīšanas tabulā **ProjCDSActualsImport**.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-158">Posting a Project Operations integration journal and a project invoice proposal triggers an update in respective records in the staging table, **ProjCDSActualsImport**.</span></span> <span data-ttu-id="6fbc8-159">Sistēma tver un ieraksta tālāk norādītos faktisko transakciju grāmatvedības atribūtus.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-159">The system captures and records the following accounting attributes for actuals transactions:</span></span>

- <span data-ttu-id="6fbc8-160">Uzskaites valūtas summa</span><span class="sxs-lookup"><span data-stu-id="6fbc8-160">Accounting currency amount</span></span>
- <span data-ttu-id="6fbc8-161">Maiņas kurss</span><span class="sxs-lookup"><span data-stu-id="6fbc8-161">Exchange rate</span></span>
- <span data-ttu-id="6fbc8-162">Dokumenta numurs</span><span class="sxs-lookup"><span data-stu-id="6fbc8-162">Voucher number</span></span>
- <span data-ttu-id="6fbc8-163">PVN summa</span><span class="sxs-lookup"><span data-stu-id="6fbc8-163">Sales tax amount</span></span>

<span data-ttu-id="6fbc8-164">Tabulas karte **Project Operations integrācijas faktiskie dati** atjaunina atbilstošos faktisko datu ierakstus risinājumā Dataverse, izmantojot šo informāciju.</span><span class="sxs-lookup"><span data-stu-id="6fbc8-164">The **Project Operations integration actuals** table map updates respective actuals records in Dataverse with this information.</span></span>
